<!-- Toolbar -->
<mat-toolbar color="primary" class="app-toolbar">

  <!-- Menu button (mobile) -->
  <button mat-icon-button (click)="sidenav.toggle()" class="menu-button" matTooltip="MenÃº">
    <mat-icon>menu</mat-icon>
  </button>

  <!-- Logo/Title -->
  <span class="app-title" routerLink="/candidates">
    <mat-icon class="app-logo">work</mat-icon>
    {{ title }}
  </span>

  <span class="spacer"></span>

  <!-- Desktop Navigation -->
  <nav class="desktop-nav">
    <a mat-button routerLink="/candidates" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }">
      <mat-icon>people</mat-icon>
      <span class="nav-label">Candidatos</span>
      <span *ngIf="(candidates$ | async)?.length as count" class="badge">
        {{ count }}
      </span>
    </a>

    <a mat-button routerLink="/candidates/new" routerLinkActive="active">
      <mat-icon>person_add</mat-icon>
      <span class="nav-label">Nuevo</span>
    </a>
  </nav>

</mat-toolbar>

<!-- Sidenav Container -->
<mat-sidenav-container class="sidenav-container">

  <!-- Sidenav (Mobile) -->
  <mat-sidenav #sidenav mode="over" [fixedInViewport]="true" fixedTopGap="56" class="app-sidenav">

    <!-- Sidenav Header -->
    <div class="sidenav-header">
      <mat-icon class="sidenav-logo">work</mat-icon>
      <span>{{ title }}</span>
    </div>

    <mat-divider></mat-divider>

    <!-- Navigation List -->
    <mat-nav-list>
      <a mat-list-item routerLink="/candidates" routerLinkActive="active" [routerLinkActiveOptions]="{ exact: true }" (click)="closeSidenav()">
        <mat-icon matListItemIcon>people</mat-icon>
        <span matListItemTitle>Candidatos</span>
        <span matListItemLine>Ver lista completa</span>
      </a>

      <a mat-list-item routerLink="/candidates/new" routerLinkActive="active" (click)="closeSidenav()">
        <mat-icon matListItemIcon>person_add</mat-icon>
        <span matListItemTitle>Nuevo Candidato</span>
        <span matListItemLine>Crear nuevo registro</span>
      </a>
    </mat-nav-list>

    <mat-divider></mat-divider>

    <!-- Sidenav Footer -->
    <div class="sidenav-footer">
      <mat-icon>info</mat-icon>
      <div class="footer-info">
        <span class="footer-label">Total candidatos</span>
        <span class="footer-value">{{ (candidates$ | async)?.length || 0 }}</span>
      </div>
    </div>

  </mat-sidenav>

  <!-- Main Content -->
  <mat-sidenav-content class="main-content-wrapper">
    <main class="main-content">
      <router-outlet></router-outlet>
    </main>
  </mat-sidenav-content>

</mat-sidenav-container>
